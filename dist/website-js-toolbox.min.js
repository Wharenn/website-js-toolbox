!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("handlebars"),require("sweetalert2"),require("notyf"),require("tingle.js")):"function"==typeof define&&define.amd?define(["handlebars","sweetalert2","notyf","tingle.js"],t):"object"==typeof exports?exports.websiteJsToolbox=t(require("handlebars"),require("sweetalert2"),require("notyf"),require("tingle.js")):e.websiteJsToolbox=t(e.handlebars,e.sweetalert2,e.notyf,e["tingle.js"])}(window,(function(e,t,n,a){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=10)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=a},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncSubmit",(function(){return a})),n.d(t,"HTMLElementFiller",(function(){return o})),n.d(t,"Logger",(function(){return r})),n.d(t,"Loader",(function(){return i})),n.d(t,"HistoryStorage",(function(){return l})),n.d(t,"Dialogs",(function(){return f})),n.d(t,"FlashMessages",(function(){return S})),n.d(t,"Modal",(function(){return B})),n.d(t,"SearchModal",(function(){return W})),n.d(t,"SeeMore",(function(){return H})),n.d(t,"Template",(function(){return J}));var a=function(e,t,n){var a=new XMLHttpRequest;a.addEventListener("load",(function(){var e,r=a.status;try{e=JSON.parse(a.response)}catch(e){}r>=400&&n&&n(e),r<300&&t&&t(e)})),n&&a.addEventListener("error",(function(){n()})),a.open(e.method||"GET",e.action),a.send(new FormData(e))},r={log:function(e,t){void 0===t&&(t="info")},debug:function(e){this.log(e,"debug")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){this.log(e,"error")}},o={fill:function(e,t){var n;try{n=JSON.parse(e.dataset.filler)}catch(e){return void r.warn("Identity: could not fill element, filler instructions not readable")}for(var a=n.source,o=n.target,i=t,s=a.split("."),l=0;l<s.length;l++)if(!(i=i[s[l]])){r.warn("Identity: could not fill element,"+s[l]+" not defined");break}o?e.setAttribute(o,i):e.innerHTML=i}},i={getLoaderContent:function(){return'<svg version="1.1" id="L7" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    x="0px" y="0px"\n    viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">\n<path fill="#fff" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\n c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z">\n    <animateTransform\n            attributeName="transform"\n            attributeType="XML"\n            type="rotate"\n            dur="2s"\n            from="0 50 50"\n            to="360 50 50"\n            repeatCount="indefinite"/>\n</path>\n   <path fill="#fff" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\n c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z">\n                   <animateTransform\n                           attributeName="transform"\n                           attributeType="XML"\n                           type="rotate"\n                           dur="1s"\n                           from="0 50 50"\n                           to="-360 50 50"\n                           repeatCount="indefinite"/>\n               </path>\n   <path fill="#fff" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\n L82,35.7z">\n                   <animateTransform\n                           attributeName="transform"\n                           attributeType="XML"\n                           type="rotate"\n                           dur="2s"\n                           from="0 50 50"\n                           to="360 50 50"\n                           repeatCount="indefinite"/>\n               </path>\n</svg>'},getThreeDots:function(){return'<svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="15" cy="15" r="15">\n        <animate attributeName="r" from="15" to="15"\n                 begin="0s" dur="0.8s"\n                 values="15;9;15" calcMode="linear"\n                 repeatCount="indefinite" />\n        <animate attributeName="fill-opacity" from="1" to="1"\n                 begin="0s" dur="0.8s"\n                 values="1;.5;1" calcMode="linear"\n                 repeatCount="indefinite" />\n    </circle>\n    <circle cx="60" cy="15" r="9" fill-opacity="0.3">\n        <animate attributeName="r" from="9" to="9"\n                 begin="0s" dur="0.8s"\n                 values="9;15;9" calcMode="linear"\n                 repeatCount="indefinite" />\n        <animate attributeName="fill-opacity" from="0.5" to="0.5"\n                 begin="0s" dur="0.8s"\n                 values=".5;1;.5" calcMode="linear"\n                 repeatCount="indefinite" />\n    </circle>\n    <circle cx="105" cy="15" r="15">\n        <animate attributeName="r" from="15" to="15"\n                 begin="0s" dur="0.8s"\n                 values="15;9;15" calcMode="linear"\n                 repeatCount="indefinite" />\n        <animate attributeName="fill-opacity" from="1" to="1"\n                 begin="0s" dur="0.8s"\n                 values="1;.5;1" calcMode="linear"\n                 repeatCount="indefinite" />\n    </circle>\n</svg>'},getCircle:function(){return'<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="#fff">\n    <g fill="none" fill-rule="evenodd">\n        <g transform="translate(1 1)" stroke-width="2">\n            <circle stroke-opacity=".5" cx="18" cy="18" r="18"/>\n            <path d="M36 18c0-9.94-8.06-18-18-18">\n                <animateTransform\n                    attributeName="transform"\n                    type="rotate"\n                    from="0 18 18"\n                    to="360 18 18"\n                    dur="1s"\n                    repeatCount="indefinite"/>\n            </path>\n        </g>\n    </g>\n</svg>'}},s=function(e){return window.btoa(unescape(encodeURIComponent(e)))},l={add:function(e,t){var n,a,r=s(e),o=localStorage.getItem(r);if(t.addedAt=Date.now(),null===o)n=[t];else{var i=(n=JSON.parse(o)).find((function(e){return e.id===t.id}));i?i.addedAt=Date.now():n.push(t),n=(n=n.concat().sort((a="addedAt",function(e,t){return e[a]<t[a]?1:t[a]<e[a]?-1:0}))).slice(0,20)}localStorage.setItem(r,JSON.stringify(n))},get:function(e){var t=localStorage.getItem(s(e));return t?JSON.parse(t):[]},clear:function(e){localStorage.setItem(s(e),JSON.stringify([]))}},c=n(1),d=n.n(c).a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),u={confirm:function(e,t,n,a,r,o,i){void 0===n&&(n="Yes"),void 0===a&&(a="Cancel"),void 0===r&&(r="question"),d.fire({title:t||e,text:t?e:void 0,icon:r,showCancelButton:!0,confirmButtonText:n,cancelButtonText:a}).then((function(e){e.value?o&&o():i&&i()}))},alert:function(e,t,n,a,r){void 0===n&&(n="Ok"),void 0===a&&(a="warning"),d.fire({title:t||e,text:t?e:void 0,icon:a,confirmButtonText:n}).then((function(){r&&r()}))},attachToDOM:function(e){(e||document).querySelectorAll("[data-dialog]").forEach((function(e){var t=e.dataset.dialog;"alert"===t&&e.addEventListener("click",(function(t){t.preventDefault(),u.alert(e.dataset.dialogMessage,e.dataset.dialogTitle,e.dataset.dialogButtonConfirm,e.dataset.dialogIcon)})),"confirm"===t&&e.addEventListener("click",(function(t){t.preventDefault(),u.confirm(e.dataset.dialogMessage,e.dataset.dialogTitle,e.dataset.dialogButtonConfirm,e.dataset.dialogButtonCancel,e.dataset.dialogIcon,(function(){if(e.getAttribute("href"))window.location.href=e.getAttribute("href");else if(e.dataset.dialogRemoteFormId){var t=document.getElementById(e.dataset.dialogRemoteFormId);t&&t.submit&&t.submit()}else{var n=e.closest("form");n&&n.submit()}}))}))}))}},f=u,m=n(2),h=(n(4),new m.Notyf({duration:4e3,dismissible:!0})),p=function(e){h.success(e)},v=function(e){h.error(e)},g=function(e,t){"success"===t&&p(e),"error"===t&&v(e)},S={notifyFromDOM:function(e){void 0===e&&(e=".flash-message"),document.querySelectorAll(e).forEach((function(e){var t=e.dataset,n=t.message,a=t.type;g(n,a)}))},notify:g,success:p,error:v},b=n(3),_=n.n(b),y=(n(5),n(6),function(e){e.style.position="relative",e.style.left=""}),M=function(e){e.style.position="absolute",e.style.left="-9999px"},L={fr:{"global.error":"Une erreur s'est produite","global.saved":"Les changements ont été enregistrés","global.close":"Fermer","global.validate":"Valider","global.seeNextResults":"Afficher la suite","searchModal.select":"Sélectionner","searchModal.results":"Résultats","searchModal.addToSelection":"Ajouter","searchModal.startSearching":"Effectuez une recherche pour démarrer.","searchModal.selectedItems":"Eléments sélectionnés"},en:{"global.error":"An error occurred","global.saved":"Changes saved","global.close":"Close","global.validate":"Validate","global.seeNextResults":"See next results","searchModal.select":"Select","searchModal.results":"Results","searchModal.addToSelection":"Add","searchModal.startSearching":"Search to start.","searchModal.selectedItems":"Selected Items"}},w=window.navigator.language.slice(0,2),x=function(e){return L[w]&&L[w][e]?L[w][e]:L.en[e]?L.en[e]:e},C=function(e,t){var n=e.getContent();if(!1===t)n.querySelectorAll(".Modal__Loading").forEach((function(e){return e.remove()})),document.querySelectorAll(".tingle-modal-box__footer button").forEach((function(e){e.removeAttribute("disabled")}));else{var a=document.createElement("div");a.classList.add("Modal__Loading"),a.innerHTML=i.getLoaderContent(),n.append(a),document.querySelectorAll(".tingle-modal-box__footer button").forEach((function(e){e.setAttribute("disabled","disabled")}))}},T=function(e){void 0===e&&(e={});var t=!0!==e.hideFooter,n=["Modal"];e.isLarge&&n.push("Modal--large"),t&&n.push("Modal--withFooter");var a=new _.a.modal({footer:t||!1,stickyFooter:t||!1,closeMethods:["overlay","button","escape"],closeLabel:x("global.close"),cssClass:n,onOpen:e.onOpen,onClose:function(){a.destroy()}});return a},q=function(e,t,n){var r=e.getContent().querySelector("form");r&&(C(e,!0),a(r,(function(n){n&&n.message&&S.success(n.message),C(e,!1),t&&t(e),e.close()}),(function(t){t&&t.message&&S.error(t.message),C(e,!1),n&&n(e)})))},E=function(e,t){void 0===t&&(t={});var n=T(t),a=document.getElementById(e),r=a?a.innerHTML:'Could not found element with id "'+e+'"';return n.setContent(r),n.open(),n},R=function(e,t){void 0===t&&(t={});var n=T(t);return C(n,!0),n.open(),fetch(e,{headers:new Headers({"X-Requested-With":"XMLHttpRequest"})}).then((function(e){return e.text()})).then((function(e){C(n,!1),n.setContent(e);var a=n.getContent();a.querySelectorAll("form").forEach((function(e){e.addEventListener("submit",(function(e){e.preventDefault(),q(n,t.onFormSuccess,t.onFormError)}))})),a.querySelectorAll("[data-modal-button]").forEach((function(e){var a=e.dataset.modalButtonLabel,r=e.dataset.modalButtonDanger,o="tingle-btn";void 0!==e.dataset.modalSubmit?o+=" tingle-btn--pull-right "+(void 0!==r?"tingle-btn--danger":"tingle-btn--primary"):o+=" tingle-btn--default",n.addFooterBtn(a,o,(function(){void 0!==e.dataset.modalClose?function(e){e.close()}(n):void 0!==e.dataset.modalSubmit&&q(n,t.onFormSuccess,t.onFormError)})),M(e)}))})),n},B={openElement:function(e,t){return void 0===t&&(t={}),E(e,t)},openEmpty:function(e){return void 0===e&&(e={}),function(e){void 0===e&&(e={});var t=T(e);return t.open(),t}(e)},open:function(e,t){return void 0===t&&(t={}),R(e,t)},setContent:function(e,t){return e.setContent(t)},setLoading:function(e,t){return C(e,t)},attachToDOM:function(e){(e||document).querySelectorAll("[data-modal-open]").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.modalContentElementId,a=e.getAttribute("href");n?E(n):a&&R(a)}))}))}},I=(n(7),n(0)),A=n.n(I);n(8);A.a.registerHelper("escape",(function(e){return e.replace(/(['"])/g,"\\$1")}));var N,O,D=function(e,t,n,a,r,o){var i=document.createRange().createContextualFragment(r(a));e.insertBefore(i,t),o&&o(i),a.nextLink?(n.setAttribute("href",a.nextLink),y(n)):n.remove()},H={apply:function(e,t){var n=e.querySelector("[data-seemore-link]"),a=e.querySelector("[data-seemore-template]"),o=e.querySelector("[data-seemore-bottom]"),s=e.querySelector("[data-seemore-initial-items]");if(n&&a&&o){var l=A.a.compile(a.innerHTML);if(s)try{var c=JSON.parse(s.innerHTML);D(e,o,n,c,l,t)}catch(e){r.warn("Failed to parse initial see more items.")}var d=!1,u=document.createElement("div");u.classList.add("SeeMore__Loader"),u.innerHTML=i.getLoaderContent(),n.dataset.hasListener||(n.dataset.hasListener="true",n.addEventListener("click",(function(a){if(a.preventDefault(),!d){d=!0,M(n);var r=n.getAttribute("href");e.insertBefore(u,o),fetch(r,{headers:new Headers({"X-Requested-With":"XMLHttpRequest"})}).then((function(e){return e.json()})).then((function(a){d=!1,u.remove(),a.data&&D(e,o,n,a.data,l,t)})).catch((function(){u.remove(),d=!1,y(n),S.error(x("global.error"))}))}})))}else r.warn("Missing some see more required components.")},clear:function(e){var t=e.querySelector("[data-seemore-initial-items]");t&&(t.innerHTML=""),e.querySelectorAll("[data-seemore-item]").forEach((function(e){e.remove()}))},attachToDOM:function(e){(e||document).querySelectorAll("[data-seemore]").forEach((function(e){return H.apply(e)}))}},F=(n(9),function(e,t,n){var a;return"child"===t?a=e.insertBefore(n,null):"before"===t?a=e.parentNode.insertBefore(n,e):"after"===t?a=e.parentNode.insertBefore(n,e.nextSibling):r.warn("Anchor type "+t+" not supported. Supported anchors: child, before, after."),a}),k=function(e){e.preventDefault();var t=e.currentTarget;if(!t.dataset.isTemplateLoaded){t.dataset.isTemplateLoaded="true";var n=t.dataset.templateId,a=t.dataset.anchorId,o=t.dataset.anchorType||"after",s=t.dataset.dataId,l=t.dataset.dataUrl,c=document.getElementById(n);c||r.warn("Could not find template with id "+n);var d=a?document.getElementById(a):t;if(d||r.warn("Could not find template with id "+a),s){var u=document.getElementById(s);if(u)try{var f=JSON.parse(u.innerHTML);j.apply(c,f,d,o)}catch(e){r.warn("Failed to parse data to set in template.")}}else if(l){var m=F(d,o,N||N||((N=document.createElement("div")).classList.add("Template__Loader"),N.innerHTML=i.getCircle(),N));fetch(l,{headers:new Headers({"X-Requested-With":"XMLHttpRequest"})}).then((function(e){return e.json()})).then((function(e){m.remove(),j.apply(c,e,d,o)})).catch((function(){S.error(x("global.error"))}))}}},j={apply:function(e,t,n,a,r){void 0===a&&(a="child");var o=A.a.compile(e.innerHTML),i=document.createElement("div");i.innerHTML=o(t);var s=i.children[0],l=F(n,a,s);r&&r(l)},attachToDOM:function(e){(e||document).querySelectorAll("[data-template-trigger]").forEach((function(e){e.addEventListener("click",k)}))}},J=j,X=function(e){document.querySelectorAll('[data-selected-item="'+e+'"]').forEach((function(e){e.remove()}));var t=O.findIndex((function(t){return t.id===parseInt(e)}));O.splice(t,1)},P='\n<div class="SearchModal">\n  <div class="SearchModal__SearchContainer">\n    <div class="SearchModal__Form" data-searchmodal-form></div>\n    <h3>'+x("searchModal.results")+'</h3>\n    <div class="SearchModal__Start" data-searchmodal-start>\n      '+x("searchModal.startSearching")+'\n    </div>\n    <div class="SearchModal__Results SearchModal__Results--hidden" data-searchmodal-results>\n      <div data-seemore-initial-items></div>\n      <script data-seemore-template type="text/x-handlebars-template">\n        {{#each items}}\n            <div class="SearchModal__Result" data-seemore-item=\'{ "id": {{ this.id }}, "name": "{{ escape this.name }}", "description": "{{ escape this.description }}", "picture": "{{ this.picture }}" }\'>\n                {{#if this.picture}}\n                <img class="SearchModal__Result__Picture" src="{{this.picture}}"/>\n                {{/if}}\n                <div class="SearchModal__Result__Content">\n                  <div class="SearchModal__Result__Title">{{this.name}}</div>\n                  <div class="SearchModal__Result__Description">{{this.description}}</div>\n                </div>\n                <div class="SearchModal__Result__Buttons">\n                  <button class="Button Button--primary">'+x("searchModal.select")+'</button>\n                </div>\n            </div>\n        {{/each}}\n      <\/script>\n      <div data-seemore-bottom class="SearchModal__Results__ButtonContainer">\n        <a href="#" class="SearchModal__Results__SeeMoreButton Button" data-seemore-link>'+x("global.seeNextResults")+"</a>\n      </div>\n    </div>\n  </div>\n</div>\n",z='\n<div class="SearchModal SearchModal--multiple">\n  <div class="SearchModal__SearchContainer">\n    <div class="SearchModal__Form" data-searchmodal-form></div>\n    <div class="SearchModal__Start" data-searchmodal-start>\n      '+x("searchModal.startSearching")+'\n    </div>\n    <div class="SearchModal__Results SearchModal__Results--hidden" data-searchmodal-results>\n      <h3>'+x("searchModal.results")+'</h3>\n      <div data-seemore-initial-items></div>\n      <script data-seemore-template type="text/x-handlebars-template">\n        {{#each items}}\n            <div class="SearchModal__Result" data-seemore-item=\'{ "id": {{ this.id }}, "name": "{{ escape this.name }}", "description": "{{ escape this.description }}", "picture": "{{ this.picture }}" }\'>\n                {{#if this.picture}}\n                <img class="SearchModal__Result__Picture" src="{{this.picture}}"/>\n                {{/if}}\n                <div class="SearchModal__Result__Content">\n                  <div class="SearchModal__Result__Title">{{this.name}}</div>\n                  <div class="SearchModal__Result__Description">{{this.description}}</div>\n                </div>\n                <div class="SearchModal__Result__Buttons">\n                  <button class="Button">'+x("searchModal.addToSelection")+'</button>\n                </div>\n            </div>\n        {{/each}}\n      <\/script>\n      <div data-seemore-bottom class="SearchModal__Results__ButtonContainer">\n        <a href="#" class="SearchModal__Results__SeeMoreButton Button" data-seemore-link>'+x("global.seeNextResults")+'</a>\n      </div>\n    </div>\n  </div>\n  <div class="SearchModal__Selection">\n    <h3>'+x("searchModal.selectedItems")+'</h3>\n    <ul class="SearchModal__SelectedItems" data-selection-anchor>\n      <script data-selection-template type="text/x-handlebars-template">\n        <li class="SearchModal__SelectedItem" data-selected-item="{{this.id}}">\n            {{#if this.picture}}\n            <img class="SearchModal__SelectedItem__Picture" src="{{this.picture}}"/>\n            {{/if}}\n            <div class="SearchModal__SelectedItem__Name">\n              {{this.name}}\n            </div>\n            <div class="SearchModal__SelectedItem__Actions">\n              <a href="#" data-selection-remove>\n                <svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.3 9.7c.2.2.4.3.7.3.3 0 .5-.1.7-.3L5 6.4l3.3 3.3c.2.2.5.3.7.3.2 0 .5-.1.7-.3.4-.4.4-1 0-1.4L6.4 5l3.3-3.3c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L5 3.6 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4L3.6 5 .3 8.3c-.4.4-.4 1 0 1.4z" fill="#000" fill-rule="nonzero"></path></svg>\n              </a>\n            </div>\n        </li>\n      <\/script>\n    </ul>\n  </div>\n</div>\n',W={open:function(e,t,n){void 0===t&&(t={});var o,i=B.openEmpty({isLarge:!0,hideFooter:!t.isMultiple}),s=t.isMultiple?z:P;i.setContent(s),B.setLoading(i,!0),t.isMultiple?(O=[],i.addFooterBtn(x("global.validate"),"tingle-btn tingle-btn--pull-right tingle-btn--primary",(function(){n&&n(O),i.close()})),o=function(e){e.preventDefault();var t=e.currentTarget.closest("[data-seemore-item]");try{!function(e){if(-1===O.findIndex((function(t){return t.id===e.id}))){O.push(e);var t=document.querySelector("[data-selection-template]"),n=document.querySelector("[data-selection-anchor]");J.apply(t,e,n,"child",(function(e){e.querySelector("[data-selection-remove]").addEventListener("click",(function(e){e.preventDefault();var t=e.currentTarget.closest("[data-selected-item]").dataset.selectedItem;X(t)}))}))}}(JSON.parse(t.dataset.seemoreItem))}catch(e){r.warn("Could not parse payload as json: "+e)}}):o=function(e){e.preventDefault();var t=e.currentTarget.closest("[data-seemore-item]");try{var a=JSON.parse(t.dataset.seemoreItem);n&&n(a),i.close()}catch(e){r.warn("Could not parse payload as json: "+e)}},fetch(e,{headers:new Headers({"X-Requested-With":"XMLHttpRequest"})}).then((function(e){return e.text()})).then((function(e){var n=i.getContent();n.querySelector("[data-searchmodal-form]").innerHTML=e;var r=function(e){e&&e.preventDefault(),B.setLoading(i,!0),a(s,(function(e){e.data&&(!function(e,t,n){M(t.querySelector("[data-searchmodal-start]"));var a=t.querySelector("[data-searchmodal-results]");a.classList.remove("SearchModal__Results--hidden"),H.clear(a),t.querySelector("[data-seemore-initial-items]").innerHTML=JSON.stringify(e),H.apply(a,(function(){t.querySelectorAll("[data-seemore-item] button").forEach((function(e){e.dataset.hasListener||(e.dataset.hasListener="true",e.addEventListener("click",(function(e){return n(e)})))}))}))}(e.data,n,o),B.setLoading(i,!1))}),(function(e){B.setLoading(i,!1),S.error(e&&e.message?e.message:"Error")}))},s=n.querySelector("form"),l=n.querySelector("[data-searchmodal-button-search]");s.addEventListener("submit",r),l.addEventListener("click",r);var c=s.querySelector("input[type=text]");c&&c.focus(),t.onSearchFormLoaded&&t.onSearchFormLoaded(s),t.doDisplayInitialData?r():B.setLoading(i,!1)}))}}}])}));