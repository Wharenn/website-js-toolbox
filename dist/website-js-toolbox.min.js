!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("sweetalert2"),require("notyf"),require("tingle.js"),require("handlebars")):"function"==typeof define&&define.amd?define(["sweetalert2","notyf","tingle.js","handlebars"],t):"object"==typeof exports?exports.websiteJsToolbox=t(require("sweetalert2"),require("notyf"),require("tingle.js"),require("handlebars")):e.websiteJsToolbox=t(e.sweetalert2,e.notyf,e["tingle.js"],e.handlebars)}(window,(function(e,t,n,o){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=8)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"AsyncSubmit",(function(){return o})),n.d(t,"HTMLElementFiller",(function(){return i})),n.d(t,"Logger",(function(){return r})),n.d(t,"Loader",(function(){return a})),n.d(t,"Dialogs",(function(){return s})),n.d(t,"FlashMessages",(function(){return b})),n.d(t,"Modal",(function(){return C})),n.d(t,"SeeMore",(function(){return O}));var o=function(e,t,n){var o=new XMLHttpRequest;o.addEventListener("load",(function(){var e,r=o.status;try{e=JSON.parse(o.response)}catch(e){}r>=400&&n&&n(e),r<300&&t&&t(e)})),n&&o.addEventListener("error",(function(){n()})),o.open(e.method||"GET",e.action),o.send(new FormData(e))},r={log:function(e,t){void 0===t&&(t="info")},debug:function(e){this.log(e,"debug")},info:function(e){this.log(e,"info")},warn:function(e){this.log(e,"warn")},error:function(e){this.log(e,"error")}},i={fill:function(e,t){var n;try{n=JSON.parse(e.dataset.filler)}catch(e){return void r.warn("Identity: could not fill element, filler instructions not readable")}for(var o=n.source,i=n.target,a=t,u=o.split("."),l=0;l<u.length;l++)if(!(a=a[u[l]])){r.warn("Identity: could not fill element,"+u[l]+" not defined");break}i?e.setAttribute(i,a):e.innerHTML=a}},a={getLoaderContent:function(){return'<svg version="1.1" id="L7" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n    x="0px" y="0px"\n    viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve">\n<path fill="#fff" d="M31.6,3.5C5.9,13.6-6.6,42.7,3.5,68.4c10.1,25.7,39.2,38.3,64.9,28.1l-3.1-7.9c-21.3,8.4-45.4-2-53.8-23.3\n c-8.4-21.3,2-45.4,23.3-53.8L31.6,3.5z">\n    <animateTransform\n            attributeName="transform"\n            attributeType="XML"\n            type="rotate"\n            dur="2s"\n            from="0 50 50"\n            to="360 50 50"\n            repeatCount="indefinite"/>\n</path>\n   <path fill="#fff" d="M42.3,39.6c5.7-4.3,13.9-3.1,18.1,2.7c4.3,5.7,3.1,13.9-2.7,18.1l4.1,5.5c8.8-6.5,10.6-19,4.1-27.7\n c-6.5-8.8-19-10.6-27.7-4.1L42.3,39.6z">\n                   <animateTransform\n                           attributeName="transform"\n                           attributeType="XML"\n                           type="rotate"\n                           dur="1s"\n                           from="0 50 50"\n                           to="-360 50 50"\n                           repeatCount="indefinite"/>\n               </path>\n   <path fill="#fff" d="M82,35.7C74.1,18,53.4,10.1,35.7,18S10.1,46.6,18,64.3l7.6-3.4c-6-13.5,0-29.3,13.5-35.3s29.3,0,35.3,13.5\n L82,35.7z">\n                   <animateTransform\n                           attributeName="transform"\n                           attributeType="XML"\n                           type="rotate"\n                           dur="2s"\n                           from="0 50 50"\n                           to="360 50 50"\n                           repeatCount="indefinite"/>\n               </path>\n</svg>'},getThreeDots:function(){return'<svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg">\n    <circle cx="15" cy="15" r="15">\n        <animate attributeName="r" from="15" to="15"\n                 begin="0s" dur="0.8s"\n                 values="15;9;15" calcMode="linear"\n                 repeatCount="indefinite" />\n        <animate attributeName="fill-opacity" from="1" to="1"\n                 begin="0s" dur="0.8s"\n                 values="1;.5;1" calcMode="linear"\n                 repeatCount="indefinite" />\n    </circle>\n    <circle cx="60" cy="15" r="9" fill-opacity="0.3">\n        <animate attributeName="r" from="9" to="9"\n                 begin="0s" dur="0.8s"\n                 values="9;15;9" calcMode="linear"\n                 repeatCount="indefinite" />\n        <animate attributeName="fill-opacity" from="0.5" to="0.5"\n                 begin="0s" dur="0.8s"\n                 values=".5;1;.5" calcMode="linear"\n                 repeatCount="indefinite" />\n    </circle>\n    <circle cx="105" cy="15" r="15">\n        <animate attributeName="r" from="15" to="15"\n                 begin="0s" dur="0.8s"\n                 values="15;9;15" calcMode="linear"\n                 repeatCount="indefinite" />\n        <animate attributeName="fill-opacity" from="1" to="1"\n                 begin="0s" dur="0.8s"\n                 values="1;.5;1" calcMode="linear"\n                 repeatCount="indefinite" />\n    </circle>\n</svg>'}},u=n(0),l=n.n(u).a.mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1}),c={confirm:function(e,t,n,o,r,i,a){void 0===n&&(n="Yes"),void 0===o&&(o="Cancel"),void 0===r&&(r="question"),l.fire({title:t||e,text:t?e:void 0,icon:r,showCancelButton:!0,confirmButtonText:n,cancelButtonText:o}).then((function(e){e.value?i&&i():a&&a()}))},alert:function(e,t,n,o,r){void 0===n&&(n="Ok"),void 0===o&&(o="warning"),l.fire({title:t||e,text:t?e:void 0,icon:o,confirmButtonText:n}).then((function(){r&&r()}))},attachToDOM:function(e){(e||document).querySelectorAll("[data-dialog]").forEach((function(e){var t=e.dataset.dialog;"alert"===t&&e.addEventListener("click",(function(t){t.preventDefault(),c.alert(e.dataset.dialogMessage,e.dataset.dialogTitle,e.dataset.dialogButtonConfirm,e.dataset.dialogIcon)})),"confirm"===t&&e.addEventListener("click",(function(t){t.preventDefault(),c.confirm(e.dataset.dialogMessage,e.dataset.dialogTitle,e.dataset.dialogButtonConfirm,e.dataset.dialogButtonCancel,e.dataset.dialogIcon,(function(){if(e.getAttribute("href"))window.location.href=e.getAttribute("href");else if(e.dataset.dialogRemoteFormId){var t=document.getElementById(e.dataset.dialogRemoteFormId);t&&t.submit&&t.submit()}else{var n=e.closest("form");n&&n.submit()}}))}))}))}},s=c,d=n(1),f=(n(4),new d.Notyf({duration:4e3,dismissible:!0})),m=function(e){f.success(e)},g=function(e){f.error(e)},p=function(e,t){"success"===t&&m(e),"error"===t&&g(e)},b={notifyFromDOM:function(e){void 0===e&&(e=".flash-message"),document.querySelectorAll(e).forEach((function(e){var t=e.dataset,n=t.message,o=t.type;p(n,o)}))},notify:p,success:m,error:g},v=n(2),y=n.n(v),h=(n(5),n(6),function(e){e.style.position="absolute",e.style.left="-9999px"}),w=function(e,t){var n=e.getContent();if(!1===t)n.querySelectorAll(".Modal__Loading").forEach((function(e){return e.remove()})),document.querySelectorAll(".tingle-modal-box__footer button").forEach((function(e){e.removeAttribute("disabled")}));else{var o=document.createElement("div");o.classList.add("Modal__Loading"),o.innerHTML=a.getLoaderContent(),n.append(o),document.querySelectorAll(".tingle-modal-box__footer button").forEach((function(e){e.setAttribute("disabled","disabled")}))}},x=function(e){var t=new y.a.modal({footer:!0,stickyFooter:!0,closeMethods:["overlay","button","escape"],closeLabel:"Close",cssClass:["Modal"],onOpen:e,onClose:function(){t.destroy()}});return t},M=function(e,t){var n=x(t),o=document.getElementById(e),r=o?o.innerHTML:'Could not found element with id "'+e+'"';return n.setContent(r),n.open(),n},L=function(e,t,n,r){var i=x(t);return w(i,!0),i.open(),fetch(e,{headers:new Headers({"X-Requested-With":"XMLHttpRequest"})}).then((function(e){return e.text()})).then((function(e){w(i,!1),i.setContent(e),i.getContent().querySelectorAll("[data-modal-button]").forEach((function(e){var t=e.dataset.modalButtonLabel,a=e.dataset.modalButtonDanger,u="tingle-btn";void 0!==e.dataset.modalSubmit?u+=" tingle-btn--pull-right "+(void 0!==a?"tingle-btn--danger":"tingle-btn--primary"):u+=" tingle-btn--default",i.addFooterBtn(t,u,(function(){void 0!==e.dataset.modalClose?function(e){e.close()}(i):void 0!==e.dataset.modalSubmit&&function(e,t,n){var r=e.getContent().querySelector("form");r&&(w(e,!0),o(r,(function(n){n&&n.message&&b.success(n.message),w(e,!1),t&&t(e),e.close()}),(function(t){t&&t.message&&b.error(t.message),w(e,!1),n&&n(e)})))}(i,n,r)})),h(e)}))})),i},C={open:function(e,t,n,o){L(e,t,n,o)},openElement:function(e,t){return M(e,t)},openEmpty:function(e){return function(e){var t=x(e);return t.open(),t}(e)},setContent:function(e,t){return e.setContent(t)},attachToDOM:function(e){(e||document).querySelectorAll("[data-modal-open]").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.dataset.modalContentElementId,o=e.getAttribute("href");n?M(n):o&&L(o)}))}))}},q=n(3),S=n.n(q),T=(n(7),{fr:{"global.error":"Une erreur s'est produite","global.saved":"Les changements ont été enregistrés"},en:{"global.error":"An error occurred","global.saved":"Changes saved"}}),E=window.navigator.language.slice(0,2),A=function(e){return T[E]&&T[E][e]?T[E][e]:T.en[e]?T.en[e]:e},B=function(e,t,n,o,r){var i=document.createRange().createContextualFragment(o(n));e.insertBefore(i,t),r&&r(i)},O={apply:function(e,t){var n=e.querySelector("[data-seemore-link]"),o=e.querySelector("[data-seemore-template]"),i=e.querySelector("[data-seemore-bottom]"),u=e.querySelector("[data-seemore-initial-items]");if(n&&o&&i){var l=S.a.compile(o.innerHTML);if(u)try{var c=JSON.parse(u.innerHTML);B(e,i,c,l,t)}catch(e){r.warn("Failed to parse initial see more items.")}var s=!1,d=document.createElement("div");d.classList.add("SeeMore__Loader"),d.innerHTML=a.getThreeDots(),n.addEventListener("click",(function(o){if(o.preventDefault(),!s){s=!0,h(n);var r=n.getAttribute("href");e.insertBefore(d,i),fetch(r,{headers:new Headers({"X-Requested-With":"XMLHttpRequest"})}).then((function(e){return e.json()})).then((function(o){var r;(s=!1,d.remove(),o.data)&&(B(e,i,o.data,l,t),o.data.nextLink?(n.setAttribute("href",o.data.nextLink),(r=n).style.position="relative",r.style.left=""):n.remove())})).catch((function(){d.remove(),s=!1,b.error(A("global.error"))}))}}))}else r.warn("Missing some see more required components.")},attachToDOM:function(e){(e||document).querySelectorAll("[data-seemore]").forEach((function(e){return O.apply(e)}))}}}])}));